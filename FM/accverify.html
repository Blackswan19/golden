<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify my account</title>
    <link rel="icon" type="image/x-icon" href="https://i.pinimg.com/736x/68/3d/8f/683d8f58c98a715130b1251a9d59d1b9.jpg">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald|Noto+Sans">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Dark Theme */
            --background-color: rgb(10, 10, 10);
            --text-color: #e0e0e0;
            --header-bg: #1a1a1a;
            --input-bg: #1d1d1d;
            --input-focus-bg: #3a3a3a;
            --button-bg: #00aaff;
            --button-text: #000000;
            --error-color: #ff1c1c;
            --modal-bg: rgb(10, 10, 10);
            --modal-heading: #00aeff;
            --modal-text: #a0a0a0;
            --close-btn-bg: #1d1d1d;
            --amount-btn-bg: #1d1d1d;
            --amount-btn-hover-bg: #434343;
            --amount-btn-active-bg: #00aef8;
            --amount-id-bg: #0a0a0a;
            --amount-id-color: #00aeff;
            --notice-border: #9595954d;
            --notice-text: #ffffffd4;
            --footer-text: #848484;
            --powered-by-bg: #3a3a3a;
            --powered-by-text: #e2e2e2;
        }

        [data-theme="light"] {
            /* Light Theme */
            --background-color: #f4f4f4;
            --text-color: #333333;
            --header-bg: #ffffff;
            --input-bg: #e8e8e8;
            --input-focus-bg: #d0d0d0;
            --button-bg: #0077cc;
            --button-text: #ffffff;
            --error-color: #cc0000;
            --modal-bg: #f4f4f4;
            --modal-heading: #0077cc;
            --modal-text: #555555;
            --close-btn-bg: #e0e0e0;
            --amount-btn-bg: #e0e0e0;
            --amount-btn-hover-bg: #c0c0c0;
            --amount-btn-active-bg: #0077cc;
            --amount-id-bg: #d0d0d0;
            --amount-id-color: #0077cc;
            --notice-border: #6666664d;
            --notice-text: #333333;
            --footer-text: #666666;
            --powered-by-bg: #d0d0d0;
            --powered-by-text: #333333;
        }

        * {
            -webkit-tap-highlight-color: transparent;
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: var(--background-color);
            color: var(--text-color);
            letter-spacing: 0.5px;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--header-bg);
            padding: 10px 15px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            z-index: 10;
        }

        .header h2 {
            font-size: 18px;
            font-weight: 500;
            margin-left: 10px;
            color: var(--text-color);
        }

        .theme-toggle {
            position: absolute;
            top: 10px;
            right: 60px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: var(--modal-heading);
        }

        #passwordContainer {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
            text-align: center;
            line-height: 15px;
            position: fixed;
        }

        #userPassword {
            font-size: 16px;
            border: solid 1.5px transparent;
            background: var(--input-bg);
            color: var(--text-color);
            padding: 8px 25px;
            text-align: center;
            width: 90%;
            outline: none;
            max-width: 280px;
            margin: 26px;
            border-radius: 10px;
            font-weight: 100;
            letter-spacing: 0.6px;
        }

        #userPassword:focus {
            background: var(--input-focus-bg);
        }

        #submitBtn {
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            font-size: 15px;
            cursor: pointer;
            padding: 7.5px 30px;
            font-weight: 500;
            border-radius: 10px;
        }

        a {
            color: var(--footer-text);
        }

        #error-message {
            color: var(--error-color);
            font-size: 12px;
            margin-top: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--modal-bg);
            padding: 65px 0px 0px 24px;
            line-height: 30px;
            overflow-y: auto;
            z-index: 10000000;
        }

        .modal h2 {
            color: var(--text-color);
            font-weight: 500;
        }

        .modal h3 {
            color: var(--modal-heading);
            font-size: 16px;
            font-weight: 400;
            text-decoration: underline;
            margin: 25px 0;
        }

        .modal p {
            color: var(--modal-text);
            font-size: 14px;
            font-weight: 400;
            margin: 10px 0;
            transition: color 0.3s ease;
        }

        .close-btn {
            position: fixed;
            top: 15px;
            left: 15px;
            color: var(--text-color);
            font-size: 18px;
            cursor: pointer;
            z-index: 11;
            background: var(--close-btn-bg);
            padding: 10px 11px;
            border-radius: 10px;
        }

        i {
            margin-right: 8px;
        }

        .logo {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 11;
        }

        .logo img {
            width: 40px;
            border-radius: 50%;
        }

        .logout-btn {
            position: fixed;
            top: 55px;
            right: 5px;
            background-color: var(--close-btn-bg);
            color: var(--text-color);
            border: none;
            padding: 5px 12px;
            font-size: 12px;
            border-radius: 15px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            z-index: 11;
        }

        .logout-btn a {
            color: var(--text-color);
            text-decoration: none;
        }

        .logout-btn:hover {
            background-color: var(--input-focus-bg);
        }

        .loan-entry {
            padding: 10px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--modal-text);
            width: 103%;
            padding-bottom: 30px;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        .amount-buttons {
            display: flex;
            gap: 20px;
            margin: 40px 0px 0px;
            padding: 10px 0px;
            overflow-x: scroll;
            width: 100%;
            white-space: nowrap;
        }

        .amount-btn {
            background-color: var(--amount-btn-bg);
            color: var(--text-color);
            border: none;
            padding: 10px 20px;
            font-size: 12px;
            border-radius: 10px 0px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            position: relative;
        }

        .amount-btn:hover {
            background-color: var(--amount-btn-hover-bg);
            color: var(--text-color);
        }

        .amount-btn.active {
            background-color: var(--amount-btn-active-bg);
            color: var(--button-text);
        }

        .amount-btn .amount-id {
            position: absolute;
            top: -10px;
            right: 0px;
            font-size: 10px;
            color: var(--amount-id-color);
            background: var(--amount-id-bg);
            padding: 3px 10px;
            border-radius: 0px 8px;
        }

        .notice {
            font-weight: 200;
            font-size: 12px;
            line-height: 20px;
            position: fixed;
            bottom: 60px;
            color: var(--notice-text);
            padding: 10px;
            border: solid 1.4px var(--notice-border);
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
        }

        .powered-by {
            position: fixed;
            top: 11px;
            font-size: 10px;
            color: var(--powered-by-text);
            z-index: 1000;
            background: var(--powered-by-bg);
            text-align: center;
            padding: 6px 11px;
            font-weight: 100;
            border-radius: 8px;
        }
    </style>
</head>
<body>
   
    
    <div id="passwordContainer">
        <h2 style="font-weight: 400; font-size: 20px; color: var(--text-color);">Verify my account</h2>
        <input type="text" id="userPassword" placeholder="Enter password" autocomplete="off">
        <button id="submitBtn">Verify</button><br>
        <p id="error-message"></p>
        <div class="notice">
            You should return the money before the due date, If not additional interest will be charged.
        </div>
    </div>

    <div id="userInfoModal" class="modal">
        <span><i class="fa-solid fa-arrow-left close-btn" onclick="closeModal()"></i></span>
        <h3 style="text-decoration: underline; margin: 25px 0px; font-weight: 600; font-size: 15px;">Borrower</h3>
        <p style="display: flex; align-items: center; font-size: 20px; gap: 6px;">
            <span id="userName"></span>
            <img src="https://cdn-icons-png.freepik.com/256/11105/11105495.png?semt=ais_hybrid" alt="" width="18px">
        </p>
        <div class="amount-buttons" id="amountButtons"></div>
        <div id="loanDetails"></div>
    </div>

    <div class="mfi" style="position: fixed; bottom: 10px; font-size: 10px; color: var(--footer-text); z-index: 1000; background: transparent; width: 100%; text-align: center; padding: 10px;">
        <a target="_blank" style="text-decoration: none;" href="https://mfi0212.github.io/MFI/mfimain">By Myootive</a>
    </div>
    <div class="powered-by" id="poweredBy">
        Powered by BsPsgenerater
    </div>

    <script>
        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;

        // Load saved theme from localStorage
        const savedTheme = localStorage.getItem('theme') || 'dark';
        body.setAttribute('data-theme', savedTheme);
        updateThemeIcon(savedTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });

        function updateThemeIcon(theme) {
            themeToggle.textContent = theme === 'dark' ? '☀️' : '🌙';
        }

        // Existing Password Verification and Modal Script
        const passwords = {
            "4211": {
                name: "Chaitanya Harsha",
                loans: [
                    {
                        planDate: "24-05-2025",
                        endDate: "23-05-2025(Extanded to 3 days)",
                        interest: 7300,
                        takenAmount: 18000,
                        takenFrom: "MLending"
                    },
                    {
                        planDate: "07-04-2025",
                        endDate: "23-05-2025(Extanded to 3 days)",
                        interest: 9300,
                        takenAmount: 10000,
                        takenFrom: "MLLD"
                    },
                ]
            },
            "Mahesh888*": {
                name: "Mahesh",
                loans: [
                    {
                        planDate: "06-04-2025",
                        endDate: "03-06-2025(Extanded to 15 days)",
                        interest: 3000,
                        takenAmount: 10000,
                        takenFrom: "MLending"
                    },
                ]
            },
            "Cherish@123": {
                name: "Cherish",
                loans: [
                    {
                        planDate: "12-04-2025",
                        endDate: "29-05-2025",
                        interest: 1400,
                        takenAmount: 2000,
                        takenFrom: "MLLD"
                    },
                    {
                        planDate: "15-05-2025",
                        endDate: "30-05-2025",
                        interest: 360,
                        takenAmount: 2000,
                        takenFrom: "MLLD"
                    },
                    {
                        planDate: "18-05-2025",
                        endDate: "25-05-2025",
                        interest: 150,
                        takenAmount: 1500,
                        takenFrom: "MLLD"
                    },
                    {
                        planDate: "19-05-2025",
                        endDate: "26-05-2025",
                        interest: 250,
                        takenAmount: 2500,
                        takenFrom: "MLLD"
                    },
                    {
                        planDate: "20-05-2025",
                        endDate: "27-05-2025",
                        interest: 250,
                        takenAmount: 2500,
                        takenFrom: "MLLD"
                    },
                    {
                        planDate: "21-05-2025",
                        endDate: "31-05-2025",
                        interest: 680,
                        takenAmount: 5000,
                        takenFrom: "MLLD"
                    },
                ]
            },
        };

        // Auto-fill password from localStorage on page load within 0.1s
        document.addEventListener("DOMContentLoaded", () => {
            const savedPassword = localStorage.getItem("userPassword");
            if (savedPassword) {
                setTimeout(() => {
                    document.getElementById("userPassword").value = savedPassword;
                    setTimeout(() => {
                        document.getElementById("poweredBy").style.display = "block";
                    }, 1000);
                }, 100);
            }
        });

        document.getElementById("submitBtn").addEventListener("click", () => {
            const userInput = document.getElementById("userPassword").value.trim();
            const errorMessage = document.getElementById("error-message");
            const user = passwords[userInput];

            if (userInput) {
                localStorage.setItem("userPassword", userInput);
                setTimeout(() => {
                    document.getElementById("poweredBy").style.display = "block";
                }, 50000);
            }

            if (user) {
                document.getElementById("userName").textContent = user.name;
                const amountButtons = document.getElementById("amountButtons");
                amountButtons.innerHTML = "";

                user.loans.forEach((loan, index) => {
                    const btn = document.createElement("button");
                    btn.className = "amount-btn";
                    btn.innerHTML = `${loan.takenAmount} Rupees <span class="amount-id">Amount ${index + 1}</span>`;
                    btn.onclick = () => displayLoanDetails(loan, index);
                    amountButtons.appendChild(btn);
                });

                if (user.loans.length > 0) {
                    displayLoanDetails(user.loans[0], 0);
                }

                document.getElementById("userInfoModal").style.display = "block";
                errorMessage.textContent = "";
            } else {
                errorMessage.textContent = "Amount returned (or) Invalid password!";
            }
        });

        function calculateDaysBetween(startDate, endDate) {
            const dateFormat = /^(\d{2})-(\d{2})-(\d{4})/;
            const startMatch = startDate.match(dateFormat);
            const endMatch = endDate.match(dateFormat);
            if (startMatch && endMatch) {
                const start = new Date(`${startMatch[3]}-${startMatch[2]}-${startMatch[1]}`);
                const end = new Date(`${endMatch[3]}-${endMatch[2]}-${endMatch[1]}`);
                const diffTime = Math.abs(end - start);
                return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            }
            return "N/A";
        }

        function displayLoanDetails(loan, index) {
            const loanDetails = document.getElementById("loanDetails");
            const totalReturnAmount = (loan.takenAmount + loan.interest).toFixed(2);
            const cleanEndDate = loan.endDate.split('(')[0];
            const daysBetween = calculateDaysBetween(loan.planDate, cleanEndDate);

            document.querySelectorAll(".amount-btn").forEach(btn => btn.classList.remove("active"));
            document.getElementById("amountButtons").children[index].classList.add("active");

            loanDetails.innerHTML = `
                <div class="loan-entry">
                    <h3 style="text-decoration: underline; margin: 25px 0px; font-weight: 600; font-size: 15px;">
                        Service
                    </h3>
                    <p>${loan.takenFrom}</p>
                    <h3 style="text-decoration: underline; margin: 25px 0px; font-weight: 600; font-size: 15px;">
                        Amount Details
                    </h3>
                    <p><i class="fa-solid fa-money-bill-transfer"></i>Amount: ${loan.takenAmount} Rupees</p>
                    <h3 style="text-decoration: underline; margin: 25px 0px; font-weight: 600; font-size: 15px;">
                        Taken & Ends
                    </h3>
                    <p><i class="fa-solid fa-calendar-day"></i> Taken on: ${loan.planDate}</p>
                    <p><i class="fa-solid fa-calendar-check"></i> End on: ${loan.endDate}</p>
                    <h3 style="text-decoration: underline; margin: 25px 0px; font-weight: 600; font-size: 15px;">
                        Loan Duration
                    </h3>
                    <p><i class="fa-solid fa-clock"></i> Duration: ${daysBetween} days</p>
                    <h3 style="text-decoration: underline; margin: 25px 0px; font-weight: 600; font-size: 15px;">
                        Interest
                    </h3>
                    <p><i class="fa-solid fa-arrow-up-wide-short"></i> Interest: ${loan.interest} Rupees</p>
                    <h3 style="text-decoration: underline; margin: 25px 0px; font-weight: 600; font-size: 15px;">
                        Total Amount to Pay
                    </h3>
                    <p><i class="fa-solid fa-money-check-alt"></i> ${totalReturnAmount} Rupees</p>
                </div>
            `;
        }

        function closeModal() {
            document.getElementById("userInfoModal").style.display = "none";
        }
    </script>
</body>
</html>
