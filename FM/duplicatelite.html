<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <title>BS&MFI | Duplicate account</title> <link rel="icon" href="https://i.ibb.co/ZpVQQ2Kp/mfi-logo.png" /> <style> * { margin:0; padding:0; box-sizing:border-box; } body { font-family: system-ui, -apple-system, sans-serif; background: #0d0d0d; color: #ddd; min-height: 100vh; text-align: center; height: 100vh; display: flex; justify-content: center; align-items: center; flex-direction: column; } body.light { background: #fff; color: #111; } h2 { font-size: 18px; margin-bottom: 20px; text-align: center; } input, button { width: 100%; padding: 12px; margin: 10px 0; font-size: 16px; border: 1px solid #444; background: #1a1a1a; color: #ddd; } body.light input, body.light button { background: #f7f7f7; color: #111; border-color: #ccc; } button { background: #037e75; color: white; border: none; cursor: pointer; } #error-message { color: #ff6b6b; text-align: center; font-size: 14px; min-height: 20px; } .container {width: 93%; margin: 0 auto; display: none; height: 100vh; max-width: 600px;} .header { padding: 15px 0; border-bottom: 1px solid #333; display: flex; font-weight: bold; gap: 10px; align-items: center; } body.light .header { border-color: #ddd; } .profile { text-align: center;} .avatar { width: 60px; height: 60px; background: #037e75; color: white; font-weight: bold; font-size: 22px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center; } .name { font-size: 18px; margin: 10px 0; } .actions { display: flex; gap: 10px; margin: 20px 0; } .actions button { flex: 1; background: transparent; border: 1px solid #444; padding: 10px; font-size: 14px; } body.light .actions button { border-color: #ccc; } .amounts { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin: 20px 0; } .amt-btn { padding: 10px 14px; border: 1px solid #444; background: transparent; font-size: 15px; cursor: pointer; } .amt-btn.active { background: #037e75; color: white; border-color: #037e75; } .details { background: #333333ad; padding: 20px; border: 1px solid #333; font-size: 15px; margin-top: 10px; line-height: 25px; } body.light .details { background: #f7f7f7; border-color: #ddd; } .details b { color: #037e75; } body.light .details b { color: #000; } .total { font-size: 22px; font-weight: bold; margin: 15px 0 10px; color: #037e75; } .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; padding: 20px; } .modal-content { background: #292929; padding: 25px; max-width: 340px; width: 100%; border: 1px solid #444; line-height: 30px; } body.light .modal-content { background: white; border-color: #ccc; } b { color: #037e75; } .theme-btn { position: fixed; top: 0px; right: 8px; width: 60px; background: #787878; border: none; color: white; font-size: 15px; cursor: pointer; padding: 5px; } body.light .theme-btn { background: #ddd; color: #000; } </style> </head> <body> <div class="powerby" style=" position: fixed; bottom: 0px; font-size: 14px; background: #0d0d0d; padding: 6px 15px;"> From PayMine </div> <!-- Password Screen --> <div id="passwordContainer" style=" text-align: center;"> <h2>Enter Password</h2> <input type="text" id="userPassword" style="text-align: center;" placeholder="password" autocomplete="off"> <button id="submitBtn">Continue</button> <p id="error-message"></p> </div> <!-- Main App --> <div id="userInfoModal" class="container"> <div class="header"> <button onclick="logout()" style="background:none;border:none;color:#aaa;font-size:20px;width: 5%;"><</button> <div>Borrower</div> <div></div> </div> <div class="profile"> <div class="takemoneyoption" style=" margin-bottom: 15px; "> <a href="https://forms.gle/tLFrS5ojN2gBfAWT6"><button>Take money</button></a> </div> <div class="avatar" id="profilePicture"></div> <div class="name" id="userName"></div> <div class="actions"> <button onclick="showAmountsModal()">Wallet</button> <button onclick="downloadAllLoans()">Receipt</button> </div> </div> <div class="amounts" id="amountButtons"></div> <div id="loanDetails" style=" padding-bottom: 45px;"></div> </div> <!-- Wallet Modal --> <div class="modal" id="amountsModal" onclick="this.style.display='none'"> <div class="modal-content" onclick="event.stopPropagation()"> <h3>Wallet Summary</h3> <p>Taken: <b><span id="totalTaken">0</span>₹</b></p> <p>Extra: <b><span id="totalInterest">0</span>₹</b></p> <p style="font-size:20px; margin-top:10px;">Pay: <b><span id="totalReturn">0</span>₹</b></p> <button onclick="closeAmountsModal()" style="margin-top:20px;">Close</button> </div> </div> <!-- Reminder --> <div class="modal" id="reminderModal" onclick="this.style.display='none'"> <div class="modal-content" onclick="event.stopPropagation()"> <h3>Reminder</h3> <p id="reminderMessage"></p> <button onclick="closeReminderModal()">OK</button> </div> </div> <button class="theme-btn" id="themeButton">Sun</button>
<script>
  document.addEventListener('contextmenu', e => e.preventDefault());
    const passwords = {
      "6275": {
        name: "Srikanth Kath",
        loans: [
          { planDate: "25-11-2025", endDate: "10-12-2025", interest: 900, takenAmount: 3000, takenFrom: "MLending Duplicate ", fineRate: 46 }
        ]
      }
    };

    document.getElementById("submitBtn").onclick = () => {
      const pass = document.getElementById("userPassword").value.trim();
      if (!pass) return document.getElementById("error-message").textContent = "Enter password";
      if (!passwords[pass]) return document.getElementById("error-message").textContent = "Wrong password";

      localStorage.setItem("lastPass", pass);
      showUser(passwords[pass]);
    };

    function showUser(user) {
      document.getElementById("userName").textContent = user.name;
      document.getElementById("profilePicture").textContent = user.name.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2);

      const btns = document.getElementById("amountButtons");
      btns.innerHTML = "";
      user.loans.forEach((loan, i) => {
        const b = document.createElement("button");
        b.className = "amt-btn";
        b.textContent = `₹${loan.takenAmount}`;
        b.onclick = () => {
          document.querySelectorAll(".amt-btn").forEach(x=>x.classList.remove("active"));
          b.classList.add("active");
          showLoan(loan);
        };
        btns.appendChild(b);
      });

      if (user.loans.length) {
        document.querySelector(".amt-btn").classList.add("active");
        showLoan(user.loans[0]);
      }

      checkDue(user);

      document.getElementById("passwordContainer").style.display = "none";
      document.getElementById("userInfoModal").style.display = "block";
    }

    function showLoan(l) {
      const over = overdue(l.endDate, l.fineRate);
      const total = l.takenAmount + l.interest + over.fine;

      document.getElementById("loanDetails").innerHTML = `
        <div class="details">
          Service<br><b>${l.takenFrom}</b><br><br>
          Amount<br><b>₹${l.takenAmount}</b><br><br>
          Dates<br><b>${l.planDate} → ${l.endDate}</b><br><br>
          Interest<br><b>₹${l.interest}</b><br><br>
          ${over.fine ? `Overdue (${over.days} days)<br><b>₹${over.fine}</b><br><br>` : ""}
          <div class="total">Total: ₹${total}</div>
          <button onclick="downloadSingle('${l.takenAmount}',${total},'${l.endDate}')">Download Receipt</button>
          <button style="margin-top:8px; background:#333;">
            <a onclick="alert('You are not eligible to take another amount...!')" style="color:white;text-decoration:none;">Add Amount</a>
          </button>
        </div>
      `;
    }
    function overdue(end, rate) {
      const [d,m,y] = end.split('-').map(Number);
      const due = new Date(y, m-1, d);
      const now = new Date();
      if (now <= due) return {fine:0, days:0};
      const days = Math.ceil((now - due) / 86400000);
      return {fine: days * rate, days};
    }

    function checkDue(user) {
      const today = new Date().toLocaleDateString("en-GB").split("/").reverse().join("-");
      user.loans.forEach(l => {
        if (l.endDate === today) {
          document.getElementById("reminderMessage").textContent = `Today is due date: ₹${l.takenAmount} from ${l.takenFrom}`;
          document.getElementById("reminderModal").style.display = "flex";
        }
      });
    }

    function showAmountsModal() {
      const user = passwords[localStorage.getItem("lastPass")];
      let taken = 0, extra = 0;
      user.loans.forEach(l => {
        taken += l.takenAmount;
        extra += l.interest + overdue(l.endDate, l.fineRate).fine;
      });
      document.getElementById("totalTaken").textContent = taken;
      document.getElementById("totalInterest").textContent = extra;
      document.getElementById("totalReturn").textContent = taken + extra;
      document.getElementById("amountsModal").style.display = "flex";
    }

    function closeAmountsModal() { document.getElementById("amountsModal").style.display = "none"; }
    function closeReminderModal() { document.getElementById("reminderModal").style.display = "none"; }

    function logout() {
      document.getElementById("userInfoModal").style.display = "none";
      document.getElementById("passwordContainer").style.display = "block";
      document.getElementById("userPassword").value = "";
    }

    function downloadSingle(amount, total, due) {
      const text = `Amount Due: ₹${total}\nTaken: ₹${amount}\nDue Date: ${due}`;
      const a = document.createElement("a");
      a.href = URL.createObjectURL(new Blob([text], {type:"text/plain"}));
      a.download = "receipt.txt";
      a.click();
    }

    function downloadAllLoans() {
      const user = passwords[localStorage.getItem("lastPass")];
      let text = "All Loans\n\n";
      user.loans.forEach((l,i) => {
        const total = l.takenAmount + l.interest + overdue(l.endDate, l.fineRate).fine;
        text += `${i+1}. ₹${total} (Due: ${l.endDate})\n`;
      });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(new Blob([text], {type:"text/plain"}));
      a.download = "all_receipts.txt";
      a.click();
    }

    document.getElementById("themeButton").onclick = () => {
      document.body.classList.toggle("light");
      const light = document.body.classList.contains("light");
      localStorage.setItem("theme", light ? "light" : "dark");
      document.getElementById("themeButton").textContent = light ? "Moon" : "Sun";
    };

    if (localStorage.getItem("theme") === "light") {
      document.body.classList.add("light");
      document.getElementById("themeButton").textContent = "Moon";
    }
    if (localStorage.getItem("lastPass")) {
      document.getElementById("userPassword").value = localStorage.getItem("lastPass");
    }
  </script>
</body>
</html>


